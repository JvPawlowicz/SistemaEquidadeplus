version: '3.8'

services:
  frontend:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        VITE_SUPABASE_URL: ${VITE_SUPABASE_URL}
        VITE_SUPABASE_ANON_KEY: ${VITE_SUPABASE_ANON_KEY}
    ports:
      - "3000:80"
    restart: unless-stopped

  # Opcional: Cloudflare Tunnel para expor o app sem abrir portas no roteador
  # Requer token do Cloudflare Zero Trust (Dashboard > Access > Tunnels)
  # cloudflared:
  #   image: cloudflare/cloudflared:latest
  #   command: tunnel run
  #   environment:
  #     TUNNEL_TOKEN: ${TUNNEL_TOKEN}
  #   depends_on:
  #     - frontend
  #   restart: unless-stopped
